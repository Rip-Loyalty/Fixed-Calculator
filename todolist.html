<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Nova To-Do</title>
<link rel="icon" type="image/png" href="A_digital_vector_graphic_features_a_neon_logo_comb.png">
<link rel="stylesheet" href="todo.css">
</head>
<body>

<button class="toggle-theme" id="themeToggle">ğŸŒ™</button>

<div class="todo-container">
  <h1>Nova To-Do</h1>

  <div class="input-section">
    <input type="text" id="taskInput" placeholder="Enter a new task..." />
    <button id="addBtn">Add</button>
  </div>

  <ul id="taskList"></ul>
</div>

<a href="index.html" class="back-btn">â¬… Back to Calculator</a>

<script>
  const input = document.getElementById("taskInput");
  const addBtn = document.getElementById("addBtn");
  const taskList = document.getElementById("taskList");
  const themeToggle = document.getElementById("themeToggle");

  // Load saved tasks
  window.addEventListener("load", () => {
    const saved = JSON.parse(localStorage.getItem("tasks")) || [];
    saved.forEach(task => addTask(task.text, task.completed));

    // Load theme
    if (localStorage.getItem("theme") === "light") {
      document.body.classList.add("light");
      themeToggle.textContent = "â˜€ï¸";
    }
  });

  // Add new task
  addBtn.addEventListener("click", () => {
    if (input.value.trim() !== "") {
      addTask(input.value.trim(), false);
      saveTasks();
      input.value = "";
    }
  });

  function addTask(text, completed) {
    const li = document.createElement("li");
    if (completed) li.classList.add("completed");

    const span = document.createElement("span");
    span.textContent = text;
    span.addEventListener("click", () => {
      li.classList.toggle("completed");
      saveTasks();
    });

    const del = document.createElement("button");
    del.textContent = "âœ–";
    del.classList.add("delete-btn");
    del.addEventListener("click", () => {
      li.remove();
      saveTasks();
    });

    li.appendChild(span);
    li.appendChild(del);
    taskList.appendChild(li);
  }

  function saveTasks() {
    const tasks = [];
    document.querySelectorAll("#taskList li").forEach(li => {
      tasks.push({
        text: li.querySelector("span").textContent,
        completed: li.classList.contains("completed"),
      });
    });
    localStorage.setItem("tasks", JSON.stringify(tasks));
  }

  // Theme Toggle
  themeToggle.addEventListener("click", () => {
    document.body.classList.toggle("light");
    themeToggle.textContent = document.body.classList.contains("light") ? "â˜€ï¸" : "ğŸŒ™";
    localStorage.setItem("theme", document.body.classList.contains("light") ? "light" : "dark");
  });
</script>

</body>
</html>
